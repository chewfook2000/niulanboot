<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI ç‰›æ‡’è®¡ç®—å™¨ 2.6</title>

<style>

body{
background:#020617;
color:white;
font-family:Arial;
text-align:center;
margin:0;
}

header{
padding:18px;
font-size:26px;
background:#0f172a;
}

.container{
max-width:520px;
margin:auto;
padding:20px;
}

.cards{
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
margin:20px 0;
min-height:100px;
}

.card{
background:white;
color:black;
width:65px;
height:90px;
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
font-weight:bold;
}

.ten{
background:#facc15;
}

.result{
font-size:36px;
color:#facc15;
margin:10px 0;
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:10px;
margin-top:20px;
}

button{
padding:16px;
font-size:18px;
border:none;
border-radius:10px;
background:#1f2937;
color:white;
}

.control{
margin-top:10px;
display:flex;
gap:10px;
}

.control button{
flex:1;
}

</style>
</head>

<body>

<header>ğŸ¤– AI ç‰›æ‡’è®¡ç®—å™¨ 2.6</header>

<div class="container">

<div class="cards" id="cards"></div>
<div class="result" id="result">è¾“å…¥3æˆ–5å¼ ç‰Œ</div>

<div class="grid" id="keys"></div>

<div class="control">
<button onclick="delCard()">åˆ é™¤</button>
<button onclick="reset()">é‡ç½®</button>
</div>

</div>

<script>

const values=[
"A","2","3","4","5","6","7","8","9",
"10","J","Q","K","â™ A"
]

let cards=[]

const cardsDiv=document.getElementById("cards")
const result=document.getElementById("result")
const keys=document.getElementById("keys")

values.forEach(v=>{
let b=document.createElement("button")
b.textContent=v
b.onclick=()=>addCard(v)
keys.appendChild(b)
})

function addCard(v){

if(cards.length===5) return
cards.push(v)
update()

}

function delCard(){

cards.pop()
update()

}

function reset(){

cards=[]
update()

}

function val(v){

if(v==="A"||v==="â™ A") return 1
if(["J","Q","K"].includes(v)) return 10
return parseInt(v)

}

function render(list){

cardsDiv.innerHTML=""

list.forEach(c=>{
let d=document.createElement("div")
d.className="card"
d.textContent=c
cardsDiv.appendChild(d)
})

}

function renderCombo(top,bottom){

cardsDiv.innerHTML=""

top.forEach(c=>{
let d=document.createElement("div")
d.className="card"
d.textContent=c
cardsDiv.appendChild(d)
})

let br=document.createElement("div")
br.style.width="100%"
cardsDiv.appendChild(br)

bottom.forEach(c=>{
let d=document.createElement("div")
d.className="card ten"
d.textContent=c
cardsDiv.appendChild(d)
})

}

/* 3 / 6 å˜ (åªç»™äº”å¼ ç”¨) */

function variants(nums){

let res=[[]]

nums.forEach(n=>{

let temp=[]

res.forEach(r=>{

if(n===3||n===6){

temp.push([...r,3])
temp.push([...r,6])

}else{

temp.push([...r,n])

}

})

res=temp

})

return res

}

/* ä¸‰å¼  */

function calcThree(){

let nums=cards.map(val)

let sum = nums[0] + nums[1] + nums[2]

let n=sum%10
if(n===0) n=10

if(n===10){
result.textContent="ğŸ‚ ç‰›10"
}else{
result.textContent="ç‰› "+n
}

}

/* äº”å¼  */

function calcFive(){

let nums=cards.map(val)
let vars=variants(nums)

let bestScore=0
let bestTop=[]
let bestBottom=[]
let bestName="æ²¡ç‰›"

vars.forEach(arr=>{

for(let i=0;i<3;i++){
for(let j=i+1;j<4;j++){
for(let k=j+1;k<5;k++){

let sum=arr[i]+arr[j]+arr[k]

if(sum%10!==0) continue

let rest=[]
let idx=[]

for(let x=0;x<5;x++){
if(x!==i&&x!==j&&x!==k){
rest.push(arr[x])
idx.push(x)
}
}

let n=(rest[0]+rest[1])%10
if(n===0) n=10

let score=n
let name="ç‰› "+n

if(n===10){
score=10
name="ğŸ‚ ç‰›10"
}

/* å­–å® */

if(cards[idx[0]].replace("â™ ","")===cards[idx[1]].replace("â™ ","")){
score=20
name="ğŸ’ å­–å®"
}

/* äº”ä¸ªç‰› */

if(cards.every(c=>["J","Q","K"].includes(c))){
score=30
name="ğŸ‘‘ äº”ä¸ªç‰›"
}

/* ç‰›å†¬è‡ */

if(sum%10===0 &&
(cards[idx[0]]==="â™ A"||cards[idx[1]]==="â™ A") &&
(cards.includes("J")||cards.includes("Q")||cards.includes("K"))
){
score=40
name="ğŸ„ ç‰›å†¬è‡"
}

if(score>bestScore){

bestScore=score
bestName=name
bestBottom=[cards[i],cards[j],cards[k]]
bestTop=[cards[idx[0]],cards[idx[1]]]

}

}
}
}

})

if(bestScore===0){

render(cards)
result.textContent="æ²¡ç‰›"
return

}

renderCombo(bestTop,bestBottom)
result.textContent=bestName

}

function update(){

if(cards.length===0){

cardsDiv.innerHTML=""
result.textContent="è¾“å…¥3æˆ–5å¼ ç‰Œ"
return

}

if(cards.length<3){

render(cards)
result.textContent="ç»§ç»­å‘ç‰Œ"
return

}

if(cards.length===3){

render(cards)
calcThree()
return

}

if(cards.length===4){

render(cards)
result.textContent="ç­‰æœ€åä¸€å¼ "
return

}

calcFive()

}

</script>

</body>
</html>
