<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ğŸ‚ ç‰›ç‰›è®¡ç®—å™¨</title>

<link rel="manifest" href="manifest.json">

<style>

body{
margin:0;
font-family:Arial;
background:#081428;
color:white;
text-align:center;
}

header{
background:#0f1c38;
padding:20px;
font-size:26px;
font-weight:bold;
box-shadow:0 4px 15px rgba(0,0,0,0.5);
}

.container{
max-width:520px;
margin:auto;
padding:20px;
}

.cards{
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
margin:25px 0;
}

.card{
width:70px;
height:90px;
background:white;
color:black;
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
font-weight:bold;
box-shadow:0 5px 12px rgba(0,0,0,0.5);
}

.result{
font-size:40px;
color:#ffd700;
margin:20px 0;
font-weight:bold;
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:10px;
}

button{
padding:16px;
border:none;
border-radius:12px;
background:#1e293b;
color:white;
font-size:18px;
}

button:active{
transform:scale(0.95);
}

.control{
margin-top:15px;
display:flex;
gap:10px;
}

.del{background:#ef4444;}
.reset{background:#f59e0b;}
.rule{background:#22c55e;}

</style>
</head>

<body>

<header>ğŸ‚ ç‰›ç‰›è®¡ç®—å™¨</header>

<div class="container">

<div class="cards" id="cards"></div>

<div class="result" id="result">è¾“å…¥5å¼ ç‰Œ</div>

<div class="grid" id="keys"></div>

<div class="control">
<button class="del" onclick="delCard()">åˆ é™¤</button>
<button class="reset" onclick="reset()">æ¸…ç©º</button>
<button class="rule" onclick="toggleRule()">3/6è§„åˆ™</button>
</div>

</div>

<script>

const values=["A","2","3","4","5","6","7","8","9","10","J","Q","K"]

let cards=[]
let rule36=true

const cardsDiv=document.getElementById("cards")
const result=document.getElementById("result")
const keys=document.getElementById("keys")

values.forEach(v=>{
let b=document.createElement("button")
b.innerText=v
b.onclick=()=>add(v)
keys.appendChild(b)
})

function render(){
cardsDiv.innerHTML=""
cards.forEach(c=>{
let d=document.createElement("div")
d.className="card"
d.innerText=c
cardsDiv.appendChild(d)
})
}

function add(v){
if(cards.length>=5)return
cards.push(v)
render()
calc()
}

function delCard(){
cards.pop()
render()
calc()
}

function reset(){
cards=[]
render()
result.innerText="è¾“å…¥5å¼ ç‰Œ"
}

function toggleRule(){
rule36=!rule36
alert("3/6ç©æ³•: "+(rule36?"å¼€å¯":"å…³é—­"))
calc()
}

function val(v){
if(v=="A") return 1
if(v=="J"||v=="Q"||v=="K") return 10
return parseInt(v)
}

function transform(x){
if(!rule36) return x
if(x===3) return 6
if(x===6) return 3
return x
}

function calc(){

if(cards.length<5) return

let nums=cards.map(v=>transform(val(v)))

let best=-1

for(let i=0;i<3;i++){
for(let j=i+1;j<4;j++){
for(let k=j+1;k<5;k++){

let sum=nums[i]+nums[j]+nums[k]

if(sum%10===0){

let rest=0

for(let x=0;x<5;x++){
if(x!==i&&x!==j&&x!==k){
rest+=nums[x]
}
}

let niu=rest%10
if(niu===0) niu=10

best=Math.max(best,niu)

}
}
}
}

if(best===-1){
result.innerText="æ²¡ç‰›"
}else if(best===10){
result.innerText="ğŸ‚ ç‰›ç‰›"
}else{
result.innerText="ç‰› "+best
}

}

</script>

</body>
</html>

button{
padding:16px;
font-size:18px;
border:none;
border-radius:12px;
background:#1f2937;
color:white;
}

button:active{
transform:scale(0.95);
background:#374151;
}

.control{
margin-top:15px;
display:flex;
gap:10px;
}

.control button{
flex:1;
}

.del{
background:#ef4444;
}

.reset{
background:#f59e0b;
}

</style>
</head>

<body>

<header>ğŸ‚ ç‰›ç‰›è®¡ç®—å™¨</header>

<div class="container">

<div class="cards" id="cards"></div>

<div class="result" id="result">
è¾“å…¥5å¼ ç‰Œ
</div>

<div class="grid" id="keys"></div>

<div class="control">
<button class="del" onclick="delCard()">åˆ é™¤</button>
<button class="reset" onclick="reset()">æ¸…ç©º</button>
</div>

</div>

<script>

const values=["A","2","3","4","5","6","7","8","9","10","J","Q","K"]

let cards=[]

const cardsDiv=document.getElementById("cards")
const result=document.getElementById("result")
const keys=document.getElementById("keys")

values.forEach(v=>{
let b=document.createElement("button")
b.innerText=v
b.onclick=()=>add(v)
keys.appendChild(b)
})

function render(){
cardsDiv.innerHTML=""
cards.forEach(c=>{
let d=document.createElement("div")
d.className="card"
d.innerText=c
cardsDiv.appendChild(d)
})
}

function add(v){
if(cards.length>=5)return
cards.push(v)
render()
calc()
}

function delCard(){
cards.pop()
render()
result.innerText="è¾“å…¥5å¼ ç‰Œ"
}

function reset(){
cards=[]
render()
result.innerText="è¾“å…¥5å¼ ç‰Œ"
}

function val(v){
if(v=="A") return 1
if(v=="J"||v=="Q"||v=="K") return 10
return parseInt(v)
}

function transform(x){
if(x===3) return 6
if(x===6) return 3
return x
}

function calc(){

if(cards.length<5) return

let best=-1

let nums=cards.map(v=>transform(val(v)))

for(let i=0;i<3;i++){
for(let j=i+1;j<4;j++){
for(let k=j+1;k<5;k++){

let sum=nums[i]+nums[j]+nums[k]

if(sum%10===0){

let rest=0

for(let x=0;x<5;x++){
if(x!==i&&x!==j&&x!==k){
rest+=nums[x]
}
}

let niu=rest%10
if(niu===0) niu=10

best=Math.max(best,niu)

}
}
}
}

if(best===-1){
result.innerText="æ²¡ç‰›"
}else if(best===10){
result.innerText="ğŸ‚ ç‰›ç‰›"
}else{
result.innerText="ç‰› "+best
}

}

</script>

</body>
</html>
